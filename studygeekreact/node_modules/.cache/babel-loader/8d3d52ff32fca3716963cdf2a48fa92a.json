{"ast":null,"code":"var _jsxFileName = \"/Users/junzhe/Desktop/studygeek/cs546-group1/studygeekreact/src/components/StudentList.js\";\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\nimport StudentCard from './StudentCard';\nimport noImage from '../img/header.jpeg';\n\nconst StudentList = () => {\n  const [searchData, setsearchData] = useState(undefined);\n  const [showsData, setShowData] = useState(undefined);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  let li = null;\n  let img = null;\n  useEffect(() => {\n    console.log('render');\n\n    async function fetchData() {\n      if (searchTerm) {\n        try {\n          const {\n            data\n          } = await axios.get('http://localhost:3008/students');\n          setsearchData(data);\n        } catch (e) {\n          console.log(e);\n        }\n      } else {\n        try {\n          const {\n            data\n          } = await axios.get('http://localhost:3008/students');\n          setShowData(data);\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    }\n\n    fetchData();\n  }, [searchTerm]);\n\n  const searchValue = value => {\n    setSearchTerm(value);\n  };\n\n  if (searchTerm) {\n    li = searchData && searchData.map(students => {\n      let {\n        student\n      } = students;\n\n      if (student.image & student.image.medium) {\n        img = /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"student\",\n          src: student.image.medium,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 23\n          }\n        });\n      } else {\n        img = /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"student\",\n          src: noImage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 23\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: student.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/students/${student.id',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, img, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 31\n        }\n      }), student.name));\n    });\n  } else {\n    li = showsData && showsData.map(students => {\n      let {\n        student\n      } = students;\n\n      if (student.image & student.image.medium) {\n        img = /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"student\",\n          src: student.image.medium,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 23\n          }\n        });\n      } else {\n        img = /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"student\",\n          src: noImage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 23\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: student.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/students/${student.id',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, img, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 31\n        }\n      }), student.name));\n    });\n  }\n};\n\nexport default StudentList;","map":{"version":3,"sources":["/Users/junzhe/Desktop/studygeek/cs546-group1/studygeekreact/src/components/StudentList.js"],"names":["axios","Link","React","useState","useEffect","StudentCard","noImage","StudentList","searchData","setsearchData","undefined","showsData","setShowData","searchTerm","setSearchTerm","li","img","console","log","fetchData","data","get","e","searchValue","value","map","students","student","image","medium","id","name"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\nimport StudentCard from './StudentCard';\nimport noImage from '../img/header.jpeg';\n\nconst StudentList =() => {\n    const [searchData, setsearchData] = useState(undefined);\n    const [showsData, setShowData] = useState(undefined);\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    let li = null;\n    let img = null;\n\n    useEffect(() => {\n        console.log('render');\n        async function fetchData(){\n            if (searchTerm) {\n                try{\n                    const { data } = await axios.get('http://localhost:3008/students');\n                    setsearchData(data);\n                }catch(e){\n                    console.log(e)\n                }\n            }else{\n                try{\n                    const { data } = await axios.get('http://localhost:3008/students');\n                    setShowData(data);\n                }catch(e){\n                    console.log(e);\n                }\n            }\n        }\n        fetchData();\n    },[searchTerm]);\n\n    const searchValue = (value) => {\n        setSearchTerm(value)\n    };\n    \n    if (searchTerm){\n        li = searchData && searchData.map((students) => {\n            let { student } = students;\n            if (student.image & student.image.medium){\n                img = <img alt='student' src={student.image.medium} />\n            }else{\n                img = <img alt='student' src={noImage} />;\n            }\n            return (\n                <li key={student.id}>\n                    <Link to={'/students/${student.id'}>\n                        {img} <br/>\n                        {student.name}\n                    </Link>\n                </li>\n            )\n        })\n    }else{\n        li = showsData && showsData.map((students) => {\n            let { student } = students;\n            if (student.image & student.image.medium){\n                img = <img alt='student' src={student.image.medium} />\n            }else{\n                img = <img alt='student' src={noImage} />;\n            }\n            return (\n                <li key={student.id}>\n                    <Link to={'/students/${student.id'}>\n                        {img} <br/>\n                        {student.name}\n                    </Link>\n                </li>\n            )\n        })\n    }\n\n\n}\n\nexport default StudentList;\n"]},"metadata":{},"sourceType":"module"}